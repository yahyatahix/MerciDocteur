<!DOCTYPE html>
<!--
   ETTAHI Yahya-->
<html lang="fr">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="author" content="ETTAHI Yahya">
    <meta name="description" content="Projet de technologie de Web">
    <meta name="keywords" content="Projet,Technologies de Web,EMI, Covid19">
    <title>Formulaire</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="icon" href="./image/icon.png">
    <script type="text/javascript">
        function traiter(maForm){
            /* On récupère la donnée du formulaire 
            et on les formate comme QueryString */
            var qryStr = "nom="+maForm.nom.value+"&"+
                      "prenom="+maForm.prenom.value+"&"+
                      "ville="+maForm.ville.value+"&"+
                      "email="+maForm.email.value+"&"+
                      "comment="+maForm.comment.value;
           // alert(qryStr);
            /* on envoie au serveur pour calcul... */
            var myXMLHttp=new XMLHttpRequest();            
            var uri="./cgi-bin/guestbook.py"; 
 
            myXMLHttp.open("POST", uri, false); 
            myXMLHttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            myXMLHttp.send(qryStr);

            /* On traite la réponse */
            if (myXMLHttp.readyState==4 && myXMLHttp.status==200){
                document.getElementById("ici").innerHTML =  myXMLHttp.responseText;
            } else {
                document.write("Err: "+myXMLHttp.readyState +
                               " " +myXMLHttp.status);
            }
       }
       function DateWebWorker() {
              var offsetUTC = +12,
              lD = new Date();
              document.getElementById('time').innerHTML = ""+lD.toLocaleString();
            }
             
            window.onload=function() {
              DateWebWorker();
              setInterval(DateWebWorker,1000);
            }
        </script>
  </head>
  <body>
    <header>
      <div class="container">
        <div id="titre">
          <h1><span class="heighlight">Projet Tech-Web </span> - Merci Docteur
          </h1>
        </div>
        <nav>
          <ul>
            <li class="current"><a href="index.html">Accueil</a></li>
            <li><a href="./livreDor/guestbook.html">Témoingnages</a></li>
            <li><a href="about.html">A propos </a></li>
          </ul>
        </nav>
      </div>
    </header>
    <div class="form">
      <h2 style="text-align: center; width: 581px;">Bienvenue dans mon livre
        d'or</h2>
      <p style="text-align: center; width: 580px; margin-left: 5px;">Merci de le
        signer en remplissant ce formulaire.</p>
      <form method="post" style="width: 582px;"> <b>Nom </b><input name="nom"
          type="text"><br>
        <b>Prénom </b><input name="prenom" type="text"><br>
        <b>Ville </b><input name="ville" type="text"><br>
        <b>Email </b><br>
        <input name="email" type="email"> <br>
        <b>Commentaire</b><br>
        <textarea cols="80" rows="4" name="comment"> </textarea><br>
        <!-- zone notification serveur -->
        <p id="ici" style="float:right;">... </p>
        <input value="Soumettre" onclick="traiter(this.form); return false;" type="submit">
        <input value="Annuler" type="reset"><br>
      </form>
    </div>
    <footer>
      <p>Merci Docteur - Projet Technologies Web, copyright © 2020 </p>
      <a href="https://html5.validator.nu/?doc=http%3A%2F%2Fyasmina.emi.ac.ma%2F%7Eyettahi%2Findex.html">
        <img src="./image/W3C_HTML5_certified.png" alt="HTML5 Validation" width="95"
          height="35"> </a> <a href="http://jigsaw.w3.org/css-validator/check/referer">
        <img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss"
          alt="CSS Valide !"> </a> <a href="http://jigsaw.w3.org/css-validator/check/referer">
        <img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss-blue"
          alt="CSS Valide !"> </a>
      <p id="time"></p>
    </footer>
  </body>
</html>
